<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <title>WebSocket Test</title>
</head>
<body>
  <h1>WebSocket Echo Test</h1>
  
  <input id="messageInput" type="text" placeholder="ë©”ì‹œì§€ë¥¼ ì…ë ¥í•˜ì„¸ìš”">
  <button onclick="sendMessage()">ë³´ë‚´ê¸°</button>

  <ul id="messages"></ul>

  <script>
    // ì„œë²„ì™€ ì—°ê²°
    const socket = new WebSocket("ws://127.0.0.1:8000/ws");

    socket.onopen = function() {
      addMessage("âœ… ì„œë²„ì™€ ì—°ê²°ë¨!");
    };

    socket.onmessage = function(event) {
      addMessage("ğŸ“© ì„œë²„ ì‘ë‹µ: " + event.data);
    };

    socket.onclose = function() {
      addMessage("âŒ ì„œë²„ì™€ ì—°ê²° ì¢…ë£Œ");
    };

    socket.onerror = function(error) {
      addMessage("âš ï¸ ì—ëŸ¬ ë°œìƒ: " + error.message);
    };

    function sendMessage() {
      const input = document.getElementById("messageInput");
      const message = input.value;
      socket.send(message);
      addMessage("â¡ï¸ ë³´ë‚¸ ë©”ì‹œì§€: " + message);
      input.value = "";
    }

    function addMessage(text) {
      const li = document.createElement("li");
      li.textContent = text;
      document.getElementById("messages").appendChild(li);
    }
  </script>
</body>
</html>